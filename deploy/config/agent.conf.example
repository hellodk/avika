# =============================================================================
# Avika NGINX Manager Agent - Example Configuration
# =============================================================================
# Copy to /etc/avika/avika-agent.conf and customize
# See avika-agent.conf.sample for detailed documentation

# --- Gateway Connection ---
# Single or comma-separated for multi-gateway HA
GATEWAYS="localhost:5020"

# --- Agent Identity ---
AGENT_ID=""

# --- Network Ports ---
HEALTH_PORT=5026
MGMT_PORT=5025

# --- NGINX Configuration ---
NGINX_CONFIG_PATH="/etc/nginx/nginx.conf"
NGINX_STATUS_URL="http://127.0.0.1/nginx_status"

# --- Log Collection ---
ACCESS_LOG_PATH="/var/log/nginx/access.log"
ERROR_LOG_PATH="/var/log/nginx/error.log"
LOG_FORMAT="combined"

# --- Data Persistence ---
BUFFER_DIR="/var/lib/avika/"
BACKUP_DIR="/var/lib/avika/backups"

# --- Self-Update (optional) ---
UPDATE_SERVER=""
UPDATE_INTERVAL="168h"

# --- Logging ---
# Containers/systemd: LOG_FILE="" (stdout)
# VMs without systemd: LOG_FILE="/var/log/avika/agent.log"
LOG_LEVEL="info"
LOG_FILE=""
