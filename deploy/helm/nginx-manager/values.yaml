# Default values for nginx-manager.

replicaCount: 1

image:
  repository: nginx-manager
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

# -- Component Configurations --

gateway:
  replicaCount: 1
  image:
    repository: gateway # Assume user builds and pushes
    tag: latest
  service:
    type: ClusterIP
    port: 50051
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi

frontend:
  replicaCount: 1
  image:
    repository: frontend
    tag: latest
  service:
    type: ClusterIP
    port: 3000
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 256Mi

aiEngine:
  replicaCount: 1
  image:
    repository: ai-engine
    tag: latest
  resources:
    limits:
      memory: 1Gi

logAggregator:
  replicaCount: 1
  image:
    repository: log-aggregator
    tag: latest

# -- Infrastructure (Embedded for simplicity, or use dependencies) --

postgresql:
  enabled: true
  auth:
    database: nginx_manager
    username: admin
    password: password # USE SECRETS IN PROD
  primary:
    persistence:
      enabled: true
      size: 8Gi

clickhouse:
  enabled: true
  password: password
  persistence:
    size: 10Gi

redpanda:
  enabled: true
  replicaCount: 1

otelCollector:
  enabled: true
  image:
    repository: otel/opentelemetry-collector-contrib
    tag: 0.91.0

# -- Monitoring --
monitoring:
  prometheus:
    enabled: true
    scrape: true
    interval: 30s

# -- Global Settings --
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  annotations: {}
  name: ""

podAnnotations: {}
podSecurityContext: {}
securityContext: {}

ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: chart-example.local
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []

nodeSelector: {}
tolerations: []
affinity: {}
