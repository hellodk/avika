# Avika Agent Resource Profiling Report

**Generated:** 2026-02-15T09:01:03+05:30  
**Test Duration:** 15s per phase  
**Agent Version:** NGINX Manager Agent

## Executive Summary

| Metric | Baseline | Final | Peak | Avg |
|--------|----------|-------|------|-----|
| Memory (MB) | 1.430694580078125 | 4.381507873535156 | 2.7145919799804688 | 2.07 |
| Goroutines | 23 | 23 | 24 | 23 |
| Heap Objects | 5057 | 10823 | - | - |
| GC Cycles | 44 | 283 | - | - |

## Memory Analysis

### Memory Footprint
- **Baseline Memory:** 1.430694580078125 MB
- **Final Memory:** 4.381507873535156 MB
- **Peak Memory:** 2.7145919799804688 MB
- **Memory Growth:** 2.950813293457031 MB (+206.2%)

### Garbage Collection
- **GC Cycles During Test:** 239
- **Total GC Pause Time:** 10.740061ms
- **Avg GC Pause per Cycle:** .037ms

## Goroutine Analysis

- **Baseline Goroutines:** 23
- **Final Goroutines:** 23
- **Peak Goroutines:** 24
- **Goroutine Growth:** 0

### Goroutine Stability
✅ **STABLE** - Goroutine count remained stable (growth < 5)

## Resource Efficiency Assessment

### Memory Efficiency
✅ **EXCELLENT** - Peak memory under 50MB

### Memory Leak Detection
✅ **NO LEAK DETECTED** - Memory growth minimal

## Stress Test Recommendations

Based on the profiling results:

### Production Deployment Recommendations

| Resource | Recommended | Limit |
|----------|-------------|-------|
| Memory Request | 4Mi | 6Mi |
| Memory Limit | 6Mi | 10Mi |
| CPU Request | 50m | 100m |
| CPU Limit | 200m | 500m |

### Kubernetes Resource Manifest

```yaml
resources:
  requests:
    memory: "4Mi"
    cpu: "50m"
  limits:
    memory: "6Mi"
    cpu: "200m"
```

## Profiling Artifacts

The following pprof profiles were collected:

- `heap_20260215_090037.pprof` - Memory allocation profile
- `goroutine_20260215_090037.pprof` - Goroutine stack traces
- `allocs_20260215_090037.pprof` - Allocation profile
- `cpu_20260215_090037.pprof` - CPU profile (5s sample)

### Analyzing Profiles

```bash
# View heap profile
go tool pprof ./profiling_results/heap_20260215_090037.pprof

# View goroutine stacks
go tool pprof ./profiling_results/goroutine_20260215_090037.pprof

# View CPU profile
go tool pprof ./profiling_results/cpu_20260215_090037.pprof

# Web UI (interactive)
go tool pprof -http=:8080 ./profiling_results/heap_20260215_090037.pprof
```

## Raw Data

### Baseline Stats
```json
{
  "timestamp": "2026-02-15T09:00:43.077740418+05:30",
  "uptime": "5.01271167s",
  "uptime_seconds": 5.01271167,
  "goroutines": 23,
  "num_cpu": 20,
  "gomaxprocs": 20,
  "cgo_calls": 9,
  "memory": {
    "alloc_bytes": 1500192,
    "alloc_mb": 1.430694580078125,
    "total_alloc_bytes": 119469936,
    "total_alloc_mb": 113.93540954589844,
    "sys_bytes": 20273416,
    "sys_mb": 19.33423614501953,
    "heap_alloc_bytes": 1500192,
    "heap_alloc_mb": 1.430694580078125,
    "heap_sys_bytes": 11501568,
    "heap_sys_mb": 10.96875,
    "heap_objects": 5057,
    "stack_inuse_bytes": 1081344,
    "stack_sys_bytes": 1081344,
    "mspan_inuse": 259520,
    "mcache_inuse": 24160
  },
  "gc": {
    "num_gc": 44,
    "pause_total_ns": 1615319,
    "pause_total_ms": 1.615319,
    "last_pause_ns": 27862,
    "last_pause_ms": 0.027862,
    "next_gc_bytes": 4194304,
    "gc_cpu_fraction": 0.0005800564843586395
  }
}
```

### Final Stats
```json
{
  "timestamp": "2026-02-15T09:01:03.286554544+05:30",
  "uptime": "25.221525801s",
  "uptime_seconds": 25.221525801,
  "goroutines": 23,
  "num_cpu": 20,
  "gomaxprocs": 20,
  "cgo_calls": 23,
  "memory": {
    "alloc_bytes": 4594344,
    "alloc_mb": 4.381507873535156,
    "total_alloc_bytes": 724722496,
    "total_alloc_mb": 691.1492309570312,
    "sys_bytes": 20797704,
    "sys_mb": 19.83423614501953,
    "heap_alloc_bytes": 4594344,
    "heap_alloc_mb": 4.381507873535156,
    "heap_sys_bytes": 11239424,
    "heap_sys_mb": 10.71875,
    "heap_objects": 10823,
    "stack_inuse_bytes": 1343488,
    "stack_sys_bytes": 1343488,
    "mspan_inuse": 313120,
    "mcache_inuse": 24160
  },
  "gc": {
    "num_gc": 283,
    "pause_total_ns": 10740061,
    "pause_total_ms": 10.740061,
    "last_pause_ns": 42156,
    "last_pause_ms": 0.042156,
    "next_gc_bytes": 5887170,
    "gc_cpu_fraction": 0.0008136467361374682
  }
}
```

---
*Report generated by Avika Agent Profiling Script*
